#1. What is Node.JS

	+ Äá»ƒ táº¡o ra 1 web server chÃºng ta cáº§n sá»­ dá»¥ng cÃ¡c ngÃ´n ngá»¯ backend, cÃ³ thá»ƒ ká»ƒ tá»›i nhÆ° Java, php, python, js,....

	+ ChÃºng ta khÃ´ng thá»ƒ sá»­ dá»¥ng cÃ¡c cÃ´ng cá»¥ á»Ÿ FE Ä‘á»ƒ viáº¿t server, tuy nhiÃªn JS lÃ  má»™t ngoáº¡i lá»‡ 

	+ JS cÃ³ thá»ƒ cháº¡y Ä‘Æ°á»£c á»Ÿ FE vÃ  BE
	
 >> Node.JS lÃ  cÃ´ng cá»¥ (mÃ´i trÆ°á»ng) giÃºp chÃºng ta cÃ³ thá»ƒ thá»±c thi code JS ngay trÃªn server 

 >> Node.JS lÃ  1 platform(mÃ´i trÆ°á»ng) chá»© khÃ´ng pháº£i lÃ  1 thÆ° viá»‡n hay framework 



Node.js BÃ i 2 - CÃ¡ch Truy Xuáº¥t HÃ m

	+ Khai bÃ¡o const, func,..
	
	+ export module, import qua require



Node.js BÃ i 3 - KhÃ¡i Niá»‡m Nghe VÃ  Gá»i (Event Emitter)


	+ EventEmitter chá»‰ Ä‘Æ¡n giáº£n lÃ  nghe vÃ  thá»±c hiá»‡n 1 yÃªu cáº§u nÃ o Ä‘Ã³ 

VD: 

const EventEmitter = require("events");
const eventEmitter = new EventEmitter();

eventEmitter.on("tutor", (num1, num2) => {
  console.log(num1 + num2);
});

eventEmitter.emit("tutor", 1, 2);


> on: táº¡o ra 1 listener
> emit: gá»i Ä‘áº¿n listener Ä‘á»ƒ nÃ³ thá»±c hiá»‡n 



Node.js BÃ i 4 - CÃ¡ch Láº¥y Dá»¯ Liá»‡u Äáº§u VÃ o Tá»« NgÆ°á»i DÃ¹ng



const readline = require("readline"); // PhÆ°Æ¡ng thá»©c láº¥y Ä‘áº§u vÃ o tá»« ngÆ°á»i dÃ¹ng
const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
}); // Khai bÃ¡o Ä‘áº§u vÃ o vÃ  Ä‘áº§u ra

let answer = "1";

rl.question("what is abc ? \n", (userInput) => {  // ask question
  if (userInput === answer) {
    rl.close(); // close chÆ°Æ¡ng trÃ¬nh
  } else {
    rl.setPrompt("incorrect"); // set cau lenh
    rl.prompt(); // goi cau lenh
    rl.on("line", (userInput) => {
      if (userInput === 1) {
        rl.close();
      } else {
        rl.setPrompt("incorrect"); // set cau lenh
        rl.prompt(); // goi cau lenh
      }
    });
  }
});

rl.on("close", () => {
  console.log("okay");
});



Node.js BÃ i 5 - KhÃ¡i Niá»‡m CRUD VÃ  CÃ¡ch Ãp Dá»¥ng VÃ o Táº­p Tin


const fs = require("fs");

fs.writeFile("example.txt", "this is an example file", (error) => { // tao file 
  if (error) {
    console.log(error);
  } else {
    console.log("done")
    fsl.readFile("example.txt", "utf8", (error, file) => { // doc file 
      // error: loi
      // file: noi dung tap tin
    })
  }
});

fs.rename("example.txt", "example_2.txt", (error) => {  // rename file 
})

fs.appendFile("example.txt", "updated data", (error) => {}) // update file content

fs.unlink("example.txt", (error) => {}) // xoa file




Node.js BÃ i 6 - á»¨ng Dá»¥ng CRUD VÃ o ThÆ° Má»¥c


const fs = require("fs");

fs.mkdir("tutorial", (error) => { // tao thu muc moi
  if (error) {
    console.log(error);
  } else {
    fs.writeFile("./tutorial/example.txt", "113", (error) => {}); // tao file trong thu muc
  }
});

fs.unlink("./tutorial/example.txt", (error) => { // xoa thu muc trc
  if (error) {
  } else {
    fs.rmdir("tutorial", (error) => {});
  }
});


fs.readdir("example", (error, file) => {  // doc thu muc 

})



Node.js BÃ i 8 - Lá»£i Ãch Khi DÃ¹ng Stream Äá»ƒ LÃ m Viá»‡c Vá»›i Dá»¯ Liá»‡u Lá»›n

const fs = require("fs")

const readStream = fs.createReadStream("./abc.txt", "utf8") // doc tap tin du lieu lon chia thanh cac nhom nho va in ra
const writeStream = fs.createWriteStream("abc.txt") // viet ra 1 tap tin moi vi

readStream.on("data", (chunk) => {
    writeStream.write(chunk)
})

readStream.pipe(writeStream)


CÆ¡ cháº¿ .pipe() sáº½:

Tá»± Ä‘á»™ng Ä‘á»c dá»¯ liá»‡u tá»« readStream tá»«ng chunk (máº£nh nhá») â†’ khÃ´ng cáº§n readStream.on('data', ...).

Ghi trá»±c tiáº¿p dá»¯ liá»‡u Ä‘Ã³ vÃ o res.

ðŸ“Œ Æ¯u Ä‘iá»ƒm cá»§a .pipe():

KhÃ´ng cáº§n load toÃ n bá»™ file vÃ o bá»™ nhá»› â†’ tiáº¿t kiá»‡m RAM.

Dá»¯ liá»‡u Ä‘Æ°á»£c streaming tá»«ng pháº§n â†’ nhanh hÆ¡n vÃ  hiá»‡u quáº£ hÆ¡n.

Dá»… viáº¿t vÃ  ngáº¯n gá»n.



Node.js BÃ i 10 - CÃ¡ch Táº¡o Server Website Báº±ng HTTP

const { createServer } = require('node:http');

const hostname = '127.0.0.1';
const port = 3000;

const server = createServer((req, res) => {
  res.statusCode = 200;
  res.setHeader('Content-Type', 'text/plain');
  res.end('Hello World');
});

server.listen(port, hostname, () => {
  console.log(`Server running at http://${hostname}:${port}/`);
});



Node.js BÃ i 11 - CÃ¡ch Äá»ƒ Website Äá»c Táº­p Tin


const { createServer } = require("node:http");
const fs = require("fs");

const hostname = "127.0.0.1";
const port = 3000;

const server = createServer((req, res) => {
  const readStream = fs.createReadStream("./example.json"); // doc tap tin 
  res.writeHead(200, { "Content-type": "application.json" }); // phan hoi thanh cong

  readStream.pipe(res) // doc va phan hoi
});

server.listen(port, hostname, () => {
  console.log(`Server running at http://${hostname}:${port}/`);
});










