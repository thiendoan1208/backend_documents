1. Redis lÃ  gÃ¬ ? 

	+ Redis (Remote Dictionary Server) 

	 > lÃ  má»™t in-memory data store cá»±c nhanh
	 > thÆ°á»ng dÃ¹ng lÃ m cache, message broker, session store, counter/queue, v.v. 
         > Redis lÆ°u dá»¯ liá»‡u chá»§ yáº¿u trong RAM nÃªn Ä‘á»™ trá»… vÃ i microâ€“millisecond, throughput ráº¥t cao.
	 > Sá»­ dá»¥ng cáº¥u trÃºc key-value 
	 > NÃ³ cÃ³ thá»ƒ ghi ra Ä‘Ä©a Ä‘á»ƒ chá»‘ng máº¥t dá»¯ liá»‡u (persistence) vÃ  replication/cluster Ä‘á»ƒ chá»‹u táº£i vÃ  HA. (primary db)

	+ Work flow: API > REDIS > DB


	+ CÃ¡ch mÃ  redis lÆ°u dá»¯ liá»‡u 

		Vd: a --> { name: "thgien" }
		
		    books --> {"book1", "book2"}



2. Táº¡o DB vá»›i Redis Cloud

	> CÃ³ ráº¥t nhiá»u cÃ¡ch khÃ¡c nhau Ä‘á»ƒ táº¡o 1 Redis DB
	
	1. Sign In 
	
	2. Táº¡o DB
	
	3. Káº¿t ná»‘i vá»›i Redis Insight 


	
3. LÃ m quen vá»›i Redis Insight 


	1. Browser (TrÃ¬nh duyá»‡t dá»¯ liá»‡u)

ÄÃ¢y lÃ  nÆ¡i báº¡n xem, tÃ¬m kiáº¿m, táº¡o, sá»­a, xoÃ¡ key trong Redis.

TrÃªn cÃ¹ng cÃ³:

All Key Types: filter theo loáº¡i key (String, Hash, List, Set, ZSet, JSON, Stream,â€¦).

Filter by Key Name or Pattern: tÃ¬m key báº±ng tÃªn (cÃ³ thá»ƒ dÃ¹ng wildcard *).

á» giá»¯a:

Load sample data: táº¡o sáºµn má»™t sá»‘ dá»¯ liá»‡u máº«u Ä‘á»ƒ báº¡n test.

+ Add key manually: thÃªm key má»›i thá»§ cÃ´ng (chá»n loáº¡i key, Ä‘áº·t tÃªn, giÃ¡ trá»‹).


	2. Key Details Panel (Chi tiáº¿t key)

Khi báº¡n báº¥m vÃ o má»™t key á»Ÿ panel bÃªn trÃ¡i:

NÃ³ sáº½ hiá»ƒn thá»‹ chi tiáº¿t giÃ¡ trá»‹ cá»§a key á»Ÿ panel bÃªn pháº£i.

Báº¡n cÃ³ thá»ƒ:

Edit giÃ¡ trá»‹.

Delete key.

Vá»›i Hash, List, Set, ZSet, JSON báº¡n sáº½ cÃ³ UI riÃªng Ä‘á»ƒ thÃªm/xoÃ¡/truy váº¥n tá»«ng field.

	3. CLI (Command Line)

á» dÆ°á»›i cÃ¹ng báº¡n tháº¥y tab CLI.

ÄÃ¢y lÃ  má»™t terminal nhá» cho phÃ©p báº¡n gÃµ lá»‡nh Redis trá»±c tiáº¿p, vÃ­ dá»¥:

SET user:1 "Thiá»‡n"
GET user:1
LPUSH tasks "task1"
LRANGE tasks 0 -1


NÃ³ há»¯u Ã­ch náº¿u báº¡n muá»‘n test nhanh lá»‡nh thay vÃ¬ báº¥m chuá»™t.

	4. Command Helper

Ngay bÃªn cáº¡nh CLI cÃ³ tab Command Helper.

ÄÃ¢y lÃ  chá»— tra cá»©u cÃº phÃ¡p cÃ¡c lá»‡nh Redis.

Báº¡n cÃ³ thá»ƒ search lá»‡nh SET, GET, HSET, ZRANGEâ€¦ vÃ  nÃ³ sáº½ hiá»‡n chi tiáº¿t usage + vÃ­ dá»¥.

	5. Profiler

Tab Profiler dÃ¹ng Ä‘á»ƒ theo dÃµi cÃ¡c lá»‡nh Ä‘ang cháº¡y trong database, giÃºp debug performance.


	6. Workbench

ÄÃ¢y lÃ  nÆ¡i giá»‘ng nhÆ° SQL Editor trong MySQL Workbench váº­y.

Báº¡n cÃ³ thá»ƒ viáº¿t nhiá»u lá»‡nh Redis cÃ¹ng lÃºc, chia thÃ nh cÃ¡c block vÃ  cháº¡y tá»«ng block Ä‘á»ƒ xem káº¿t quáº£.

Há»¯u Ã­ch khi báº¡n muá»‘n test logic nhiá»u bÆ°á»›c hoáº·c copy-paste script Redis.

ğŸ‘‰ VÃ­ dá»¥ trong Workbench:

SET user:1 "Thiá»‡n"
SET user:2 "Há»c Redis"

MGET user:1 user:2


Báº¡n cháº¡y block nÃ o thÃ¬ RedisInsight sáº½ hiá»‡n káº¿t quáº£ ngay bÃªn dÆ°á»›i block Ä‘Ã³ (giÃºp dá»… theo dÃµi hÆ¡n CLI).

	7. Analysis Tool

ÄÃ¢y lÃ  cÃ´ng cá»¥ Ä‘á»ƒ phÃ¢n tÃ­ch dá»¯ liá»‡u vÃ  hiá»‡u nÄƒng cá»§a database.

NÃ³ cho báº¡n biáº¿t:

Sá»‘ lÆ°á»£ng key hiá»‡n táº¡i.

PhÃ¢n loáº¡i key theo type (String, List, Hash, JSONâ€¦).

Dung lÆ°á»£ng sá»­ dá»¥ng.

Key nÃ o lá»›n nháº¥t, key nÃ o tá»‘n RAM nhiá»u nháº¥t.

CÃ´ng cá»¥ nÃ y há»¯u Ã­ch khi báº¡n cáº§n debug performance hoáº·c dá»n dáº¹p Redis.

ğŸ‘‰ VÃ­ dá»¥: náº¿u báº¡n tháº¥y 1 key Hash chiáº¿m 80% dung lÆ°á»£ng, báº¡n sáº½ biáº¿t nÃªn tá»‘i Æ°u chá»— Ä‘Ã³.
	
	
	8. Pub/Sub (Publish / Subscribe)

ÄÃ¢y lÃ  tÃ­nh nÄƒng truyá»n thÃ´ng Ä‘iá»‡p trong Redis (message broker).

CÆ¡ cháº¿:

Má»™t client Publish (gá»­i) message vÃ o má»™t channel.

CÃ¡c client khÃ¡c Ä‘ang Subscribe (nghe) channel Ä‘Ã³ sáº½ nháº­n message ngay láº­p tá»©c.

ğŸ‘‰ Trong RedisInsight, tab Pub/Sub giÃºp báº¡n:

Subscribe vÃ o 1 channel (vÃ­ dá»¥ chat-room).

Publish message thá»­ (vÃ­ dá»¥ "Hello World!").

Xem tin nháº¯n gá»­i/nháº­n trá»±c tiáº¿p ngay trong UI.

âš¡ á»¨ng dá»¥ng thá»±c táº¿: chat app realtime, thÃ´ng bÃ¡o, event streaming.




4. Basic Command 


	1. STRING 

	( https://redis.io/docs/latest/commands/ )

	*number sáº½ tá»± Ä‘á»™ng bá»‹ convert sang string 


	1. SET key value  > Ä‘áº·t giÃ¡ trá»‹ 

	2. GET key > láº¥y giÃ¡ trá»‹ 

	3. DEL key > xÃ³a giÃ¡ trá»‹ 

	4. MGET key key , MSET key value key value  > Ä‘áº·t hoáº·c láº¥y nhiá»u giÃ¡ trá»‹ cÃ¹ng lÃºc 

	5. GETRANGE key start end > láº¥y ra sá»‘ lÆ°á»£ng kÃ­ tá»± nháº¥t Ä‘á»‹nh 

	6. SETRANGE key offset value > ghi Ä‘Ã¨ giÃ¡ trá»‹ má»›i vÃ o 1 vá»‹ trÃ­ nháº¥t Ä‘á»‹nh 

	7. INCRBY, DECRBY key value > incre or dec lÃªn sá»‘ giÃ¡ trá»‹ nháº¥t Ä‘á»‹nh 



5. Command Options 

	1. STRING   

		> STRING : name --> "Thien"

SET key value [NX | XX] [GET] [EX seconds | PX milliseconds |
  EXAT unix-time-seconds | PXAT unix-time-milliseconds | KEEPTTL]


	. NX  | XX > tÃ¹y chá»n set náº¿u cÃ³ giÃ¡ trá»‹ hoáº·c khÃ´ng cÃ³ giÃ¡ trá»‹ 

	. EX | PX | EXAT | PXAT > set expire time sau 1 khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh 

	. GET > láº¥y ra giÃ¡ trá»‹ trÆ°á»›c Ä‘Ã³ cá»§a key 

	. KEEPTTL > giá»¯ láº¡i thá»i gian sá»‘ng cá»§a key. 

			> VD: 

				SET key 1 EX 10 : háº¿t háº¡n sau 10s 

				SET key 2 KEEPTTL : váº«n háº¿t háº¡n sau 10s do láº¥y expire time cá»§a giÃ¡ trá»‹ trÆ°á»›c cá»§a key 


 

6. SETS

	1. KhÃ¡i niá»‡m 

	> CÃ¡ch thá»©c hoáº¡t Ä‘á»™ng gáº§n giá»‘ng obj mÃ  khÃ´ng cÃ³ key, tuy nhiÃªn ta k thá»ƒ add cÃ¹ng 1 giÃ¡ trá»‹ vÃ´ 

	> names: { "THien", "THs", "asd" }

	
	1. SADD	key member > ThÃªm nhiá»u data vÃ o set 

	2. SREM key member > XÃ³a member 
		
	3. SUNION key key > há»£p 2 set vÃ o lÃ m 1 

	4. SISMEMBER key value > check xem member cÃ³ thuá»™c SET chá»‰ Ä‘á»‹nh khÃ´ng 


	
7. LISTS


	1. KhÃ¡i niá»‡m

List trong Redis lÃ  má»™t danh sÃ¡ch cÃ³ thá»© tá»± (ordered list), giá»‘ng Array cá»§a js, Ä‘Æ°á»£c triá»ƒn khai dÆ°á»›i dáº¡ng doubly linked list.

Má»™t list cÃ³ thá»ƒ chá»©a cÃ¡c chuá»—i (string).

Redis list cho phÃ©p thÃªm/xÃ³a pháº§n tá»­ tá»« cáº£ 2 Ä‘áº§u (trÃ¡i vÃ  pháº£i) vá»›i thá»i gian O(1).

ğŸ‘‰ CÃ³ thá»ƒ hÃ¬nh dung Redis List giá»‘ng nhÆ° má»™t hÃ ng Ä‘á»£i (queue) hoáº·c ngÄƒn xáº¿p (stack).


	| Lá»‡nh                             | TÃ¡c dá»¥ng                                                                                  |
| -------------------------------- | ----------------------------------------------------------------------------------------- |
| **LPUSH key value \[value ...]** | ThÃªm 1 hoáº·c nhiá»u pháº§n tá»­ vÃ o **Ä‘áº§u (trÃ¡i)** list                                         |
| **RPUSH key value \[value ...]** | ThÃªm 1 hoáº·c nhiá»u pháº§n tá»­ vÃ o **cuá»‘i (pháº£i)** list                                        |
| **LPOP key**                     | Láº¥y vÃ  xÃ³a pháº§n tá»­ **Ä‘áº§u (trÃ¡i)** list                                                    |
| **RPOP key**                     | Láº¥y vÃ  xÃ³a pháº§n tá»­ **cuá»‘i (pháº£i)** list                                                   |
| **LRANGE key start stop**        | Láº¥y cÃ¡c pháº§n tá»­ trong list tá»« `start` Ä‘áº¿n `stop` (chá»‰ sá»‘ tá»« 0, `-1` lÃ  pháº§n tá»­ cuá»‘i cÃ¹ng) |
| **LLEN key**                     | Tráº£ vá» Ä‘á»™ dÃ i list                                                                        |
| **LINDEX key index**             | Láº¥y pháº§n tá»­ á»Ÿ vá»‹ trÃ­ `index`                                                              |
| **LREM key count value**         | XÃ³a pháº§n tá»­ theo giÃ¡ trá»‹ (count quy Ä‘á»‹nh sá»‘ lÆ°á»£ng xÃ³a)                                    |
| **LTRIM key start stop**         | Giá»¯ láº¡i cÃ¡c pháº§n tá»­ trong pháº¡m vi `[start, stop]`, cÃ¡c pháº§n tá»­ khÃ¡c bá»‹ xÃ³a                |
| **BLPOP key \[key ...] timeout** | Giá»‘ng `LPOP` nhÆ°ng cÃ³ thá»ƒ **block** cho Ä‘áº¿n khi cÃ³ pháº§n tá»­ (dÃ¹ng trong queue)             |
| **BRPOP key \[key ...] timeout** | Giá»‘ng `RPOP` nhÆ°ng cÃ³ thá»ƒ block                                                           |

	


8. HASH


	1. KhÃ¡i niá»‡m

Hash trong Redis lÃ  má»™t cáº¥u trÃºc dá»¯ liá»‡u dáº¡ng báº£n Ä‘á»“ (map), chá»©a cÃ¡c cáº·p field â†’ value.

CÃ³ thá»ƒ coi Hash trong Redis giá»‘ng nhÆ° má»™t object trong JS hoáº·c dictionary trong Python.

DÃ¹ng Hash ráº¥t tiá»‡n Ä‘á»ƒ lÆ°u thÃ´ng tin chi tiáº¿t cá»§a má»™t Ä‘á»‘i tÆ°á»£ng (vÃ­ dá»¥: thÃ´ng tin user, sáº£n pháº©mâ€¦).



| Lá»‡nh                                        | TÃ¡c dá»¥ng                                              |
| ------------------------------------------- | ----------------------------------------------------- |
| **HSET key field value \[field value ...]** | ThÃªm/cáº­p nháº­t má»™t hoáº·c nhiá»u cáº·p fieldâ€“value vÃ o hash |
| **HGET key field**                          | Láº¥y giÃ¡ trá»‹ cá»§a má»™t field                             |
| **HGETALL key**                             | Láº¥y toÃ n bá»™ field vÃ  value trong hash                 |
| **HDEL key field \[field ...]**             | XÃ³a 1 hoáº·c nhiá»u field khá»i hash                      |
| **HLEN key**                                | Tráº£ vá» sá»‘ lÆ°á»£ng field trong hash                      |
| **HEXISTS key field**                       | Kiá»ƒm tra xem field cÃ³ tá»“n táº¡i khÃ´ng                   |
| **HKEYS key**                               | Láº¥y danh sÃ¡ch cÃ¡c field                               |
| **HVALS key**                               | Láº¥y danh sÃ¡ch cÃ¡c value                               |
| **HMGET key field \[field ...]**            | Láº¥y nhiá»u field má»™t lÃºc                               |
| **HINCRBY key field increment**             | TÄƒng giÃ¡ trá»‹ sá»‘ nguyÃªn cá»§a field lÃªn má»™t sá»‘ nháº¥t Ä‘á»‹nh |
| **HINCRBYFLOAT key field increment**        | TÄƒng giÃ¡ trá»‹ sá»‘ thá»±c                                  |


	VD: HSET books:1 name "Qua tang quoc song" date 2015 price 10$

	* LÃ­ do cáº§n sá»‘ :number sau key 


Redis khÃ´ng cÃ³ schema nhÆ° SQL, chá»‰ cÃ³ keyâ€“value.
Äá»ƒ tá»• chá»©c dá»¯ liá»‡u cho dá»… quáº£n lÃ½, ngÆ°á»i ta thÆ°á»ng theo convention:

Prefix: loáº¡i dá»¯ liá»‡u (vd: user, order, post)

ID: Ä‘á»‹nh danh duy nháº¥t cho báº£n ghi Ä‘Ã³

Káº¿t há»£p láº¡i: user:1001, order:8888, post:2025

ğŸ‘‰ NhÆ° váº­y:

user:1001 Ä‘áº¡i diá»‡n cho thÃ´ng tin cá»§a user cÃ³ ID = 1001

order:8888 Ä‘áº¡i diá»‡n cho Ä‘Æ¡n hÃ ng 8888		




9. Redis Client Library 

	1. KhÃ¡i niá»‡m 

	 + lÃ  thÆ° viá»‡n giÃºp á»©ng dá»¥ng (Node.js, Python, Java, C#, â€¦) cá»§a báº¡n káº¿t ná»‘i vÃ  thao tÃ¡c vá»›i Redis server.

	
	2. Node-Redis cho Nodejs/JS ( https://github.com/redis/node-redis )

	3. Set up Redis vá»›i Express
	
	// db.js  > láº¥y trong pháº§n connect cá»§a redis cloud 

// redisClient.js
const { createClient } = require("redis");
require("dotenv").config();

const client = createClient({
  username: process.env.REDIS_USERNAME,
  password: process.env.REDIS_PASSWORD,
  socket: {
    host: process.env.REDIS_HOST,
    port: process.env.REDIS_PORT,
  },
});

client.on("error", (err) => console.error("Redis Client Error", err));

async function connectRedis() {
  if (!client.isOpen) {
    await client.connect();
    console.log("âœ… Connected to Redis Cloud");
  }
}

module.exports = { client, connectRedis };


	// server.js 

const express = require("express");
const { apiRoutes } = require("./routes/api_routes");
const { client, connectRedis } = require("./database/redis_db");
const { config } = require("dotenv");
config();

const app = express();
const port = 4000;
const hostname = "localhost";

// config body-parser
app.use(express.json());
app.use(express.urlencoded({ extended: true }));

// Connect Redis
(async () => {
  await connectRedis();
})();

// Routes
app.use("/api", apiRoutes);

app.listen(port, () => {
  console.log(`Example app listening on http://${hostname}:${port}`);
});


10. Working with Redis in Express

	1. CÃ¢u lá»‡nh set Hash Ä‘Æ¡n giáº£n 


const express = require("express");
const { client } = require("../database/redis_db");

const apiRoutes = express.Router();

apiRoutes.post("/add-books", async (req, res) => {
  await client.hSet("nook:1", {
    title: "Thien"
  })

  return res.send("Okay")
})

module.exports = {
  apiRoutes,
};


 
11. Sorted Sets

	1. KhÃ¡i niá»‡m 

Sorted Set trong Redis lÃ  má»™t kiá»ƒu dá»¯ liá»‡u Ä‘áº·c biá»‡t, káº¿t há»£p giá»¯a Set (táº­p há»£p, khÃ´ng trÃ¹ng láº·p) vÃ  List (cÃ³ sáº¯p xáº¿p theo thá»© tá»±).

ğŸ‘‰ Äiá»ƒm chÃ­nh:

Giá»‘ng Set: cÃ¡c pháº§n tá»­ (member) lÃ  unique (khÃ´ng trÃ¹ng láº·p).

KhÃ¡c Set: má»—i pháº§n tá»­ gáº¯n kÃ¨m má»™t score (sá»‘ thá»±c, kiá»ƒu double) dÃ¹ng Ä‘á»ƒ xáº¿p háº¡ng.

Redis sáº½ tá»± Ä‘á»™ng sáº¯p xáº¿p cÃ¡c pháº§n tá»­ theo score tÄƒng dáº§n.



ZADD key score member â†’ thÃªm/cáº­p nháº­t member.

ZRANGE key start stop [WITHSCORES] â†’ láº¥y danh sÃ¡ch tá»« nhá» Ä‘áº¿n lá»›n.

ZREVRANGE key start stop [WITHSCORES] â†’ láº¥y tá»« lá»›n Ä‘áº¿n nhá».

ZSCORE key member â†’ láº¥y score cá»§a member.

ZRANK key member â†’ láº¥y vá»‹ trÃ­ (rank) cá»§a member (theo thá»© tá»± tÄƒng).

ZREVRANK key member â†’ rank theo thá»© tá»± giáº£m.

ZREM key member â†’ xÃ³a member.



12. Pipelines 

 + Pipeline trong Redis lÃ  má»™t cÆ¡ cháº¿ cho phÃ©p báº¡n gá»­i nhiá»u lá»‡nh cÃ¹ng lÃºc Ä‘áº¿n Redis server mÃ  khÃ´ng cáº§n chá» pháº£n há»“i tá»«ng lá»‡nh trÆ°á»›c khi gá»­i lá»‡nh tiáº¿p theo.


	VD:


const { createClient } = require("redis");

async function run() {
  const client = createClient();

  await client.connect();

  const pipeline = client.multi(); // hoáº·c client.pipeline() trong ioredis

  pipeline.set("user:1", "Alice");
  pipeline.set("user:2", "Bob");
  pipeline.set("user:3", "Charlie");
  pipeline.get("user:1");

// thá»±c thi pipeline

  const results = await pipeline.exec();
  console.log(results);

  await client.quit();
}

run();


ğŸ‘‰ á» Ä‘Ã¢y: táº¥t cáº£ lá»‡nh SET vÃ  GET Ä‘Æ°á»£c gá»­i cÃ¹ng lÃºc, sau Ä‘Ã³ Redis tráº£ káº¿t quáº£ vá» theo thá»© tá»±.


--------------------------------------------------------

	II. REDIS STACK 


1. Redis Stack lÃ  gÃ¬ ?

	+ Redis Stack = Redis cá»™ng thÃªm cÃ¡c module má»Ÿ rá»™ng Ä‘á»ƒ giáº£i quyáº¿t nhiá»u nhu cáº§u hÆ¡n.

> Redis Stack tÃ­ch há»£p:

	 . RedisJSON â†’ lÆ°u trá»¯ vÃ  query dá»¯ liá»‡u JSON (thay vÃ¬ chá»‰ string/hash).

	 . RediSearch â†’ full-text search, query phá»©c táº¡p (WHERE, FILTER, INDEX), há»— trá»£ vector search (AI/ML).

	 . RedisGraph â†’ biá»ƒu diá»…n dá»¯ liá»‡u dáº¡ng Ä‘á»“ thá»‹ (giá»‘ng Neo4j).

	 . RedisTimeSeries â†’ quáº£n lÃ½ dá»¯ liá»‡u chuá»—i thá»i gian (IoT, logs, metrics).

 	 . RedisBloom â†’ há»— trá»£ cáº¥u trÃºc dá»¯ liá»‡u xÃ¡c suáº¥t (Bloom Filter, Count-Min Sketch, Top-K, v.v.).


> LÃ­ do nÃªn dÃ¹ng Redis Stack 

	. Real time app
	
	. sub millisecond process time 

	. Modern data and processsing tool, document, graph, search, time series ]
	
	. Serveral redis client lib support redis stack 

	
	


2. Redis Search 


	ğŸ” Redis Search (RediSearch) lÃ  gÃ¬?

		+ RediSearch lÃ  má»™t module cá»§a Redis Stack cho phÃ©p Redis há»— trá»£ full-text search vÃ  secondary indexing (tÃ¬m kiáº¿m vÄƒn báº£n vÃ  táº¡o index trÃªn dá»¯ liá»‡u).
	

	âš¡ TÃ¡c dá»¥ng cá»§a Redis Search

		1. Full-text search

			+ CÃ³ thá»ƒ index vÄƒn báº£n/text Ä‘á»ƒ tÃ¬m kiáº¿m theo tá»« khÃ³a.

Há»— trá»£:

TÃ¬m kiáº¿m tá»« khÃ³a Ä‘Æ¡n hoáº·c cá»¥m tá»«.

TÃ¬m gáº§n Ä‘Ãºng (fuzzy search).

TÃ¬m kiáº¿m vá»›i dáº¥u "*" (wildcard).

Ranking theo Ä‘á»™ liÃªn quan (giá»‘ng Google).

	
	VD: FT.SEARCH movies "action & marvel" > â†’ Tráº£ vá» cÃ¡c phim vá»«a lÃ  action vá»«a liÃªn quan Ä‘áº¿n Marvel.


		2. Secondary indexing cho Redis

			+ Redis gá»‘c khÃ´ng cÃ³ index phá»¥: báº¡n chá»‰ láº¥y theo key.
			+ RediSearch cho phÃ©p báº¡n táº¡o index trÃªn JSON, Hash Ä‘á»ƒ filter nhanh.
	
		
	VD: FT.SEARCH idx:users "@age:[18 30] @country:Canada"

	â†’ Láº¥y danh sÃ¡ch user tuá»•i tá»« 18â€“30 á»Ÿ Canada.
(Náº¿u chá»‰ dÃ¹ng Redis thÆ°á»ng thÃ¬ pháº£i fetch háº¿t rá»“i lá»c báº±ng code â†’ ráº¥t tá»‘n kÃ©m).



		3. Truy váº¥n nÃ¢ng cao

Há»— trá»£ AND, OR, NOT.

Range queries (sá»‘, ngÃ y, time).

Sort theo field (vd: giÃ¡ tá»« tháº¥p Ä‘áº¿n cao).

Geo search (tÃ¬m Ä‘á»‹a Ä‘iá»ƒm gáº§n má»™t tá»a Ä‘á»™).




		4. Káº¿t há»£p vá»›i RedisJSON

RedisJSON lÆ°u dá»¯ liá»‡u dáº¡ng JSON, RediSearch cÃ³ thá»ƒ index trá»±c tiáº¿p field trong JSON Ä‘á»ƒ search.
ğŸ‘‰ GiÃºp báº¡n dÃ¹ng Redis nhÆ° má»™t document database (giá»‘ng MongoDB + Elasticsearch gá»™p chung).



	ğŸ¯ á»¨ng dá»¥ng thá»±c táº¿ cá»§a RediSearch


ğŸ” Search bar / Autocomplete trong website (gÃµ vÃ i chá»¯ gá»£i Ã½ ngay).

ğŸ“š Catalog search: tÃ¬m sáº£n pháº©m trong e-commerce (lá»c theo tÃªn, giÃ¡, category).

ğŸ¬ Movie search engine: tÃ¬m theo title, genre, nÄƒm phÃ¡t hÃ nh.

ğŸ“Š Log / analytics realtime: lá»c dá»¯ liá»‡u log, event.

ğŸŒ Location search: tÃ¬m cá»­a hÃ ng gáº§n báº¡n.


		
 		> Giáº£i thÃ­ch qua 1 sá»‘ cÃ¢u lá»‡nh 

	1. FT.CREATE 

		ğŸ“Œ FT.CREATE lÃ  gÃ¬?

FT.CREATE dÃ¹ng Ä‘á»ƒ táº¡o index trong Redis Search.
Khi cÃ³ index rá»“i, báº¡n má»›i cÃ³ thá»ƒ dÃ¹ng FT.SEARCH, FT.AGGREGATE Ä‘á»ƒ query dá»¯ liá»‡u nhanh theo ná»™i dung, sá»‘, tag, geo, v.v.

Náº¿u khÃ´ng cÃ³ index â†’ Redis chá»‰ biáº¿t láº¥y theo key, khÃ´ng search nÃ¢ng cao Ä‘Æ°á»£c.


		ğŸ“š CÃº phÃ¡p cÆ¡ báº£n


FT.CREATE index_name 
  ON {HASH | JSON} 
  PREFIX <num> <prefix1> [<prefix2> ...] 
  SCHEMA field1 type [options] field2 type [options] ...


		VD: táº¡o index cho user 

FT.CREATE idx:users ON JSON PREFIX 1 user: 
  SCHEMA $.name AS name TEXT 
         $.age AS age NUMERIC 
         $.country AS country TAG


		Giáº£i thÃ­ch:

			+ idx: > Ä‘áº·t tÃªn cho index
			+ ON: > kiá»ƒu dá»¯ liá»‡u cá»§a user json | hash
			+ prefix: chá»‰ index cho nhá»¯ng key nÃ o cÃ³ tiá»n tá»‘ lÃ  user: 
			+ 1:  sá»‘ lÆ°á»£ng tiá»n tá»‘			
			
			+. SCHEMA

Khai bÃ¡o cáº¥u trÃºc index (cÃ¡c field nÃ o sáº½ Ä‘Æ°á»£c index vÃ  kiá»ƒu dá»¯ liá»‡u cá»§a chÃºng).

Trong vÃ­ dá»¥:

$.name AS name TEXT
â†’ láº¥y field $.name trong JSON, Ä‘áº·t alias lÃ  name, kiá»ƒu TEXT (cho phÃ©p full-text search).

$.age AS age NUMERIC
â†’ field age lÃ  kiá»ƒu sá»‘ â†’ cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ filter theo range (18â€“30).

$.country AS country TAG
â†’ field country lÃ  kiá»ƒu TAG (phÃ¢n loáº¡i, dÃ¹ng Ä‘á»ƒ filter, nhÆ°ng khÃ´ng full-text search).




3. RedisJSON
	
	1. RedisJSON lÃ  gÃ¬
	
	+ RedisJSON lÃ  má»™t module trong Redis Stack cho phÃ©p báº¡n lÆ°u trá»¯ vÃ  thao tÃ¡c dá»¯ liá»‡u JSON gá»‘c trong Redis.
	+ Thay vÃ¬ Redis thÆ°á»ng pháº£i serialize object â†’ string (JSON.stringify) rá»“i SET key value, vá»›i RedisJSON báº¡n cÃ³ thá»ƒ lÆ°u, Ä‘á»c, chá»‰nh sá»­a trá»±c tiáº¿p field trong JSON ngay trong Redis.
	

	ğŸ”‘ Ã nghÄ©a cá»§a $ trong RedisJSON

		$ = root (gá»‘c) cá»§a JSON document.

		Tá»« $, báº¡n Ä‘i sÃ¢u vÃ o cÃ¡c field báº±ng dáº¥u . hoáº·c [].


	âš¡ TÃ¡c dá»¥ng cá»§a RedisJSON

		1. LÆ°u trá»¯ JSON gá»‘c

		+ LÆ°u dá»¯ liá»‡u dÆ°á»›i dáº¡ng JSON thá»±c sá»±, khÃ´ng cáº§n convert sang string.

		ğŸ‘‰ VÃ­ dá»¥: JSON.SET user:1 $ '{"name":"Alice","age":25,"country":"Canada"}'
		
	

		2. Truy cáº­p trá»±c tiáº¿p field

		+ KhÃ´ng cáº§n fetch nguyÃªn JSON vá» client Ä‘á»ƒ chá»‰nh sá»­a. Báº¡n cÃ³ thá»ƒ thao tÃ¡c trá»±c tiáº¿p trÃªn Redis:
			
		VD: 
			JSON.GET user:1 $.name         # Láº¥y field name
			JSON.SET user:1 $.age 26       # Cáº­p nháº­t tuá»•i
			JSON.DEL user:1 $.country      # XÃ³a field

			
		3. Há»— trá»£ query sÃ¢u (path)

		+ CÃ³ thá»ƒ truy cáº­p cÃ¡c field lá»“ng nhau báº±ng JSONPath ($):
		
		VD: 
	
			JSON.SET product:1 $ '{"id":101,"info":{"name":"Laptop","price":1200}}'
			JSON.GET product:1 $.info.price

	
		4. Káº¿t há»£p vá»›i RediSearch

		+ RedisJSON + RediSearch = cá»±c máº¡nh ğŸš€
		+ Báº¡n cÃ³ thá»ƒ index field trong JSON Ä‘á»ƒ search nhÆ° database thá»±c thá»¥.
			

		5. Hiá»‡u nÄƒng cao

		+ RedisJSON lÆ°u trá»¯ vÃ  truy cáº­p dá»¯ liá»‡u in-memory, tá»‘i Æ°u hÃ³a cho:

			Realtime app (chat, social, game).

			Microservices (lÆ°u state, config, user session).

			E-commerce (lÆ°u product catalog + search báº±ng RediSearch).	


	ğŸ¯ á»¨ng dá»¥ng thá»±c táº¿ cá»§a RedisJSON

ğŸ›’ Product catalog: lÆ°u sáº£n pháº©m (tÃªn, giÃ¡, category, tá»“n kho).

ğŸ‘¤ User profile: lÆ°u user (name, email, role, setting).

ğŸ“Š Session / cache nÃ¢ng cao: lÆ°u session vá»›i nhiá»u metadata.

ğŸ” Search + filter (khi káº¿t há»£p vá»›i RediSearch).

ğŸ“ˆ Realtime analytics: cáº­p nháº­t JSON theo thá»i gian.	
			

	

4. RedisGraph 

	
	ğŸ“Œ RedisGraph lÃ  gÃ¬?

		+ RedisGraph lÃ  module trong Redis Stack cho phÃ©p Redis hoáº¡t Ä‘á»™ng nhÆ° má»™t graph database (cÆ¡ sá»Ÿ dá»¯ liá»‡u Ä‘á»“ thá»‹).

	ğŸ‘‰ Graph ráº¥t phÃ¹ há»£p cho cÃ¡c bÃ i toÃ¡n nhÆ°: máº¡ng xÃ£ há»™i, gá»£i Ã½ báº¡n bÃ¨, quan há»‡ giá»¯a sáº£n pháº©m, knowledge graph, recommendation system.


	ğŸ•¸ï¸ CÃ¡ch tÆ° duy trong RedisGraph (vÃ  graph database nÃ³i chung)

		
		+ Äá»‰nh (Node / Vertex):

Äáº¡i diá»‡n cho má»™t thá»±c thá»ƒ (entity).
VÃ­ dá»¥: má»™t ngÆ°á»i dÃ¹ng, má»™t bá»™ phim, má»™t sáº£n pháº©m.

		+ Cáº¡nh (Edge):

Äáº¡i diá»‡n cho má»‘i quan há»‡ giá»¯a cÃ¡c Ä‘á»‰nh.
VÃ­ dá»¥: "Alice FRIEND Bob", "User LIKES Movie".

		+ Thuá»™c tÃ­nh (Properties):

Cáº£ Node vÃ  Edge Ä‘á»u cÃ³ thá»ƒ cÃ³ thuá»™c tÃ­nh.

VÃ­ dá»¥:

Node Person {name: "Alice", age: 25}

Edge FRIEND {since: 2020}
	

	
	** REDIS GRAPH  Ä‘Ã£ EOL tá»« Ä‘áº§u nÄƒm 2025. âœ…âœ…âœ…âœ…âœ…âœ…



5. RedisTimeSeries 

	ğŸ“Œ RedisTimeSeries lÃ  gÃ¬?

RedisTimeSeries lÃ  má»™t module trong Redis Stack Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ lÆ°u trá»¯ vÃ  xá»­ lÃ½ chuá»—i thá»i gian (time-series data), tá»©c lÃ  dá»¯ liá»‡u cÃ³ dáº¡ng: (timestamp, value)

	
	ğŸ› ï¸ CÃ¡c lá»‡nh cÆ¡ báº£n trong RedisTimeSeries

		1. Táº¡o chuá»—i thá»i gian

		VD: TS.CREATE temperature:room1 RETENTION 60000 LABELS sensor room1 type temperature
		
			TS.CREATE key â†’ táº¡o má»™t chuá»—i thá»i gian má»›i.

			RETENTION 60000 â†’ dá»¯ liá»‡u cÅ© hÆ¡n 60 giÃ¢y (60000 ms) sáº½ bá»‹ xÃ³a.

			LABELS â†’ thÃªm metadata Ä‘á»ƒ sau nÃ y filter (vd: sensor=room1).


		2. ThÃªm dá»¯ liá»‡u (insert)

		VD: TS.ADD temperature:room1 * 25.3

			* â†’ Redis tá»± láº¥y timestamp hiá»‡n táº¡i (epoch time).

			25.3 â†’ giÃ¡ trá»‹ Ä‘o Ä‘Æ°á»£c (nhiá»‡t Ä‘á»™).
			

		3. Láº¥y dá»¯ liá»‡u

		VD: TS.RANGE temperature:room1 - + 

			- = tá»« Ä‘áº§u, + = Ä‘áº¿n hiá»‡n táº¡i.

				VÃ­ dá»¥: láº¥y dá»¯ liá»‡u trong 1 phÃºt qua:

					TS.RANGE temperature:room1 -60000 +


				Láº¥y dá»¯ liá»‡u cá»§a nhiá»u chuá»—i:

					TS.MRANGE - + FILTER type=temperature


		4. Thá»‘ng kÃª, downsample (aggregation)

			TS.RANGE temperature:room1 - + AGGREGATION avg 10000




	âš¡ TÃ¡c dá»¥ng cá»§a RedisTimeSeries


		1. LÆ°u trá»¯ dá»¯ liá»‡u time-series hiá»‡u quáº£

Tá»‘i Æ°u bá»™ nhá»› cho dá»¯ liá»‡u (timestamp, value).

CÃ³ cÆ¡ cháº¿ retention Ä‘á»ƒ tá»± Ä‘á»™ng xÃ³a dá»¯ liá»‡u cÅ©.

		2. Xá»­ lÃ½ dá»¯ liá»‡u chuá»—i thá»i gian realtime

Query nhanh theo time range.

TÃ­nh toÃ¡n aggregation (avg, min, max, sum, count, stddev, â€¦).

		3. Quáº£n lÃ½ metadata báº±ng labels

Má»—i chuá»—i cÃ³ thá»ƒ cÃ³ label â†’ dá»… dÃ ng filter khi query nhiá»u sensor, nhiá»u metric.

		4. TÃ­ch há»£p vá»›i RedisInsight

RedisInsight cÃ³ tab TimeSeries, tá»± Ä‘á»™ng váº½ biá»ƒu Ä‘á»“ khi báº¡n query dá»¯ liá»‡u.
ğŸ‘‰ Ráº¥t tiá»‡n cho viá»‡c monitoring vÃ  debug.



      // RÃºt ra bÃ i há»c nhÆ° sau 
      /**
       * time series chá»‰ Ä‘Æ¡n giáº£n giÃºp ta tráº£ vá» Ä‘á»“ thá»‹ cá»§a 1 khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh gá»“m time + value tá»« Ä‘Ã³ ta cÃ³ thá»ƒ lÃ m viá»‡c vá»›i nÃ³
       *  - +  giÃºp ta tráº£ vá» toÃ n bá»™ time series 
       *  retetion: sáº½ giÃºp ta loáº¡i bá» dá»¯ liá»‡u Ä‘Ã£ cÅ©.
       *      + giáº£ sá»­ ta Ä‘áº·t lÃ  1 tiáº¿ng, sau Ä‘Ã³ ta thÃªm dá»¯ liá»‡u vÃ o má»—i 10p thÃ¬ cá»© sau 1 tiáº¿ng nhá»¯ng dá»¯ liá»‡u Ä‘Ã£ thÃªm quÃ¡ 1 tiáº¿ng trÆ°á»›c sáº½ bá»‹ xÃ³a
       *          VD: 1h> 100$  1h:30 1200$  2h:1: 100$  => dá»¯ liá»‡u tá»« 1h:100$ sáº½ bá»‹ xÃ³a
       *      + expires sáº½ ngon hÆ¡n náº¿u ta cÃ³ 1 chuá»—i thá»i gian cá»‘ Ä‘á»‹nh khÃ´ng thÃªm, retention náº¿u ta cá»© thÃªm dáº§n dáº§n vÃ o chuá»—i thá»i gian
       *      
       */



	ğŸ¯ á»¨ng dá»¥ng thá»±c táº¿

ğŸ“Š Monitoring system: log CPU, RAM, network usage.

ğŸŒ¡ï¸ IoT sensor data: Ä‘o nhiá»‡t Ä‘á»™, Ä‘á»™ áº©m, Ã¡nh sÃ¡ng.

ğŸ’° Finance: theo dÃµi giÃ¡ cá»• phiáº¿u/crypto theo thá»i gian.

ğŸ›’ E-commerce: lÆ°u lÆ°á»£ng truy cáº­p website theo tá»«ng phÃºt.




6. RedisBloom 

	ğŸ“Œ RedisBloom lÃ  gÃ¬?

	+ RedisBloom lÃ  má»™t module trong Redis Stack cung cáº¥p cÃ¡c probabilistic data structures (cáº¥u trÃºc dá»¯ liá»‡u xÃ¡c suáº¥t).	
	+ NÃ³i Ä‘Æ¡n giáº£n: nÃ³ giÃºp báº¡n lÆ°u trá»¯ vÃ  kiá»ƒm tra dá»¯ liá»‡u siÃªu nhanh, siÃªu tiáº¿t kiá»‡m bá»™ nhá»›, nhÆ°ng káº¿t quáº£ cÃ³ thá»ƒ xÃ¡c suáº¥t sai lá»‡ch nhá» (false positive).

	
	ğŸ‘‰ CÃ¡c cáº¥u trÃºc dá»¯ liá»‡u trong RedisBloom:

		+ Bloom Filter

		+ Cuckoo Filter

		+ Count-Min Sketch

		+ Top-K


	ğŸ› ï¸ Giáº£i thÃ­ch tá»«ng loáº¡i

		1. Bloom Filter

DÃ¹ng Ä‘á»ƒ kiá»ƒm tra má»™t pháº§n tá»­ cÃ³ thá»ƒ tá»“n táº¡i trong táº­p dá»¯ liá»‡u hay khÃ´ng.

Ráº¥t nháº¹, cá»±c nhanh, nhÆ°ng cÃ³ kháº£ nÄƒng false positive (tráº£ vá» "cÃ³" dÃ¹ tháº­t ra khÃ´ng tá»“n táº¡i).

VÃ­ dá»¥: kiá»ƒm tra xem email cÃ³ trong danh sÃ¡ch spam khÃ´ng.

	BF.RESERVE bf 0.01 1000
	BF.ADD bf "alice"
	BF.EXISTS bf "alice"   # â†’ 1 (cÃ³)
	BF.EXISTS bf "bob"     # â†’ 0 (khÃ´ng)


		2. Cuckoo Filter

Giá»‘ng Bloom Filter nhÆ°ng há»— trá»£ xÃ³a pháº§n tá»­.

ThÃ­ch há»£p khi báº¡n cáº§n thÃªm vÃ  xÃ³a dá»¯ liá»‡u liÃªn tá»¥c.

VD: 

CF.RESERVE cf 1000
CF.ADD cf "alice"
CF.DEL cf "alice"
CF.EXISTS cf "alice"  # â†’ 0

	
		3. Count-Min Sketch

DÃ¹ng Ä‘á»ƒ Ä‘áº¿m táº§n suáº¥t xuáº¥t hiá»‡n cá»§a cÃ¡c pháº§n tá»­ trong luá»“ng dá»¯ liá»‡u.

VÃ­ dá»¥: Ä‘áº¿m sá»‘ láº§n má»—i tá»« xuáº¥t hiá»‡n trong log truy cáº­p.

VD: 

CMS.INITBYDIM cms 2000 5 > 
CMS.INCRBY cms "apple" 3 "banana" 2
CMS.QUERY cms "apple" "banana"   # â†’ [3,2]


	Giáº£i thÃ­ch rÃµ Ä‘oáº¡n nÃ y 

	1. Táº¡o ra 1 ma tráº­n gá»“m 5 hÃ ng vÃ  2000 cá»™t trong má»—i hÃ ng 

H1: [0,0,0,0,0,0,0,0,0,0]
H2: [0,0,0,0,0,0,0,0,0,0]
H3: [0,0,0,0,0,0,0,0,0,0]
H4: [0,0,0,0,0,0,0,0,0,0]
H5: [0,0,0,0,0,0,0,0,0,0]


	2. incrby sáº½ nÃ©m ngáº«u nhiÃªn apple 3 vÃ  banana 2 vÃ o trong cáº£ 5 hÃ ng á»Ÿ vá»‹ trÃ­ ngáº«u nhiÃªn
		   _ cÃ³ thá»ƒ nÃ©m trÃ¹ng nhau dáº«n Ä‘áº¿n cá»™ng dá»“n

H1: [0,3,2,0,0,0,0,0,0,0]
H2: [0,0,0,0,5,0,0,0,0,0]
H3: [0,0,0,0,0,2,3,0,0,0]
H4: [5,0,0,0,0,0,0,0,0,0]
H5: [0,0,0,2,0,0,0,0,3,0]


	3. Query

CMS.QUERY cms "apple" â†’ láº¥y min á»Ÿ [3,5,3,5,3] = 3 âœ…  

CMS.QUERY cms "banana" â†’ láº¥y min á»Ÿ [2,5,2,5,2] = 2 âœ…
		
> >  nÃ³ dá»±a vÃ o sá»‘ tÄƒng ban Ä‘áº§u Ä‘á»ƒ láº¥y ra chuá»—i vÃ  láº¥y min trong Ä‘Ã³, sá»‘ min chÃ­nh lÃ  táº§n suáº¥t xuáº©t hiá»‡n cá»§a nÃ³


		4. Top-K

DÃ¹ng Ä‘á»ƒ giá»¯ danh sÃ¡ch K pháº§n tá»­ phá»• biáº¿n nháº¥t trong luá»“ng dá»¯ liá»‡u.

VÃ­ dá»¥: tá»« khÃ³a Ä‘Æ°á»£c tÃ¬m kiáº¿m nhiá»u nháº¥t.

TOPK.RESERVE tk 5
TOPK.ADD tk "apple" "banana" "orange"
TOPK.LIST tk   # â†’ danh sÃ¡ch 5 tá»« khÃ³a phá»• biáº¿n nháº¥t


		âš¡ TÃ¡c dá»¥ng cá»§a RedisBloom

		1. Tiáº¿t kiá»‡m bá»™ nhá»›

KhÃ´ng cáº§n lÆ°u toÃ n bá»™ dá»¯ liá»‡u mÃ  chá»‰ cáº§n lÆ°u cáº¥u trÃºc xÃ¡c suáº¥t.

Ráº¥t há»¯u Ã­ch khi xá»­ lÃ½ dá»¯ liá»‡u lá»›n (Big Data, streaming).

		2. Hiá»‡u nÄƒng cao

Kiá»ƒm tra membership hay Ä‘áº¿m táº§n suáº¥t cá»±c nhanh (O(1)).

		3. á»¨ng dá»¥ng thá»±c táº¿

ğŸ”’ Anti-spam / blacklist: kiá»ƒm tra nhanh email/username Ä‘Ã£ tá»“n táº¡i.

ğŸ“ˆ Analytics: Ä‘áº¿m táº§n suáº¥t tá»« khÃ³a, tracking clickstream.

ğŸ›’ E-commerce: gá»£i Ã½ sáº£n pháº©m phá»• biáº¿n nháº¥t (Top-K).

ğŸš€ Big Data systems: giáº£m táº£i cho database chÃ­nh báº±ng pre-check vá»›i Bloom Filter.



			
	
